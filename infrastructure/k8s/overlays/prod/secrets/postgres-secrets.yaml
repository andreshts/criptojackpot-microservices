# Secrets for PRODUCTION - PostgreSQL (DigitalOcean Managed via PgBouncer)
apiVersion: v1
kind: Secret
metadata:
  name: postgres-secrets
  namespace: cryptojackpot
type: Opaque
stringData:
  # DigitalOcean Managed PostgreSQL (used by PgBouncer to connect upstream)
  POSTGRES_HOST: "REPLACE_WITH_PROD_DO_POSTGRES_HOST"
  POSTGRES_PORT: "25060"
  POSTGRES_USER: "doadmin"
  POSTGRES_PASSWORD: "REPLACE_WITH_PROD_DO_POSTGRES_PASSWORD"
  POSTGRES_SSLMODE: "require"
  # Connection strings via internal PgBouncer (port 6432)
  # Microservices connect to pgbouncer.cryptojackpot.svc.cluster.local:6432
  IDENTITY_DB_CONNECTION: "Host=pgbouncer.cryptojackpot.svc.cluster.local;Port=6432;Database=cryptojackpot_identity_db;Username=doadmin;Password=REPLACE_WITH_PROD_DO_POSTGRES_PASSWORD"
  LOTTERY_DB_CONNECTION: "Host=pgbouncer.cryptojackpot.svc.cluster.local;Port=6432;Database=cryptojackpot_lottery_db;Username=doadmin;Password=REPLACE_WITH_PROD_DO_POSTGRES_PASSWORD"
  ORDER_DB_CONNECTION: "Host=pgbouncer.cryptojackpot.svc.cluster.local;Port=6432;Database=cryptojackpot_order_db;Username=doadmin;Password=REPLACE_WITH_PROD_DO_POSTGRES_PASSWORD"
  WALLET_DB_CONNECTION: "Host=pgbouncer.cryptojackpot.svc.cluster.local;Port=6432;Database=cryptojackpot_wallet_db;Username=doadmin;Password=REPLACE_WITH_PROD_DO_POSTGRES_PASSWORD"
  WINNER_DB_CONNECTION: "Host=pgbouncer.cryptojackpot.svc.cluster.local;Port=6432;Database=cryptojackpot_winner_db;Username=doadmin;Password=REPLACE_WITH_PROD_DO_POSTGRES_PASSWORD"
  NOTIFICATION_DB_CONNECTION: "Host=pgbouncer.cryptojackpot.svc.cluster.local;Port=6432;Database=cryptojackpot_notification_db;Username=doadmin;Password=REPLACE_WITH_PROD_DO_POSTGRES_PASSWORD"
